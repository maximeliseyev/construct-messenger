# –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Ä–∞–∑–≤–∏—Ç–∏—è Construct Messenger

## ‚úÖ –§–∞–∑–∞ 1: –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–ó–ê–í–ï–†–®–ï–ù–û)

- [x] –°–æ–∑–¥–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- [x] –ù–∞—Å—Ç—Ä–æ–µ–Ω Cargo workspace –¥–ª—è Rust
- [x] –ù–∞—Å—Ç—Ä–æ–µ–Ω pnpm workspace –¥–ª—è TypeScript
- [x] –°–æ–∑–¥–∞–Ω `packages/core` —Å –±–∞–∑–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
- [x] –ü–µ—Ä–µ–Ω–µ—Å—ë–Ω –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∫–æ–¥ –∏–∑ `construct-crypto`
- [x] –°–æ–∑–¥–∞–Ω—ã –º–æ–¥—É–ª–∏: api, crypto, protocol, storage, state, utils, wasm

## üîÑ –§–∞–∑–∞ 2: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –∫–æ–º–ø–∏–ª—è—Ü–∏—è —è–¥—Ä–∞ (–°–õ–ï–î–£–Æ–©–ï–ï)

### 2.1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –≤ –ø–µ—Ä–µ–Ω–µ—Å—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö
- [ ] –î–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ Cargo.toml
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

### 2.2. –î–æ–ø–æ–ª–Ω–∏—Ç—å crypto_utils
- [ ] –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `utils/crypto_utils.rs` –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π utils

### 2.3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
```bash
cd /Users/maximeliseyev/Code/construct-messenger
cargo check --workspace
cargo build --workspace
```

## üì¶ –§–∞–∑–∞ 3: –î–æ—Ä–∞–±–æ—Ç–∫–∞ API –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### 3.1. –ó–∞–≤–µ—Ä—à–∏—Ç—å API –º–æ–¥—É–ª—å
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `api/messaging.rs` —Å –ø–æ–ª–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏/–ø–æ–ª—É—á–µ–Ω–∏—è
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `api/contacts.rs` —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `api/crypto.rs` —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∫–ª—é—á–∞–º–∏

### 3.2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å protocol –º–æ–¥—É–ª—å
- [ ] `protocol/wire.rs` - MessagePack —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
- [ ] `protocol/messages.rs` - —Ç–∏–ø—ã —Å–æ–æ–±—â–µ–Ω–∏–π
- [ ] `protocol/transport.rs` - WebSocket —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç
- [ ] `protocol/validation.rs` - –≤–∞–ª–∏–¥–∞—Ü–∏—è

### 3.3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å storage –º–æ–¥—É–ª—å
- [ ] `storage/indexeddb.rs` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å IndexedDB
- [ ] `storage/memory.rs` - —Ç–µ—Å—Ç–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- [ ] `storage/models.rs` - –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### 3.4. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å state –º–æ–¥—É–ª—å
- [ ] `state/app.rs` - –≥–ª–∞–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- [ ] `state/contacts.rs` - —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
- [ ] `state/conversations.rs` - —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–µ—Å–µ–¥

## üåê –§–∞–∑–∞ 4: WASM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### 4.1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å WASM –±–∏–Ω–¥–∏–Ω–≥–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å `#[wasm_bindgen]` –∞—Ç—Ä–∏–±—É—Ç—ã –∫ –ø—É–±–ª–∏—á–Ω—ã–º API
- [ ] –°–æ–∑–¥–∞—Ç—å TypeScript –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–∏
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –±–∏–Ω–¥–∏–Ω–≥–æ–≤

### 4.2. –°–±–æ—Ä–∫–∞ WASM
```bash
cd packages/core
wasm-pack build --target web --release
```

### 4.3. –°–æ–∑–¥–∞—Ç—å TypeScript –æ–±—ë—Ä—Ç–∫—É
- [ ] –°–æ–∑–¥–∞—Ç—å `packages/core/bindings/index.ts`
- [ ] –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π API
- [ ] –î–æ–±–∞–≤–∏—Ç—å —É–¥–æ–±–Ω—ã–µ –æ–±—ë—Ä—Ç–∫–∏ –¥–ª—è async –æ–ø–µ—Ä–∞—Ü–∏–π

## üé® –§–∞–∑–∞ 5: PWA Frontend

### 5.1. –°–æ–∑–¥–∞—Ç—å SvelteKit –ø—Ä–æ–µ–∫—Ç
```bash
cd apps
npm create svelte@latest pwa
cd pwa
pnpm install
```

### 5.2. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å @construct/core
```json
{
  "dependencies": {
    "@construct/core": "workspace:*"
  }
}
```

### 5.3. –°–æ–∑–¥–∞—Ç—å UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ª–æ–≥–∏–Ω–∞/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- [ ] –°–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤
- [ ] –û–∫–Ω–æ —á–∞—Ç–∞
- [ ] –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üß™ –§–∞–∑–∞ 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 6.1. Rust —Ç–µ—Å—Ç—ã
- [ ] Unit —Ç–µ—Å—Ç—ã –¥–ª—è crypto –º–æ–¥—É–ª–µ–π
- [ ] Integration —Ç–µ—Å—Ç—ã –¥–ª—è API
- [ ] WASM —Ç–µ—Å—Ç—ã –≤ –±—Ä–∞—É–∑–µ—Ä–µ

### 6.2. E2E —Ç–µ—Å—Ç—ã
- [ ] Playwright —Ç–µ—Å—Ç—ã –¥–ª—è PWA
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ—Ç–æ–∫–æ–ª–∞

## üìö –§–∞–∑–∞ 7: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [ ] API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑ Rust)
- [ ] –ì–∞–π–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- [ ] Security audit –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [ ] Deployment –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

## üöÄ –§–∞–∑–∞ 8: Deployment

- [ ] CI/CD pipeline (GitHub Actions)
- [ ] Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- [ ] PWA deployment
- [ ] CDN –¥–ª—è WASM

## üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

```
–ü—Ä–æ–≥—Ä–µ—Å—Å: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 25%

–ó–∞–≤–µ—Ä—à–µ–Ω–æ:
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- –ë–∞–∑–æ–≤—ã–µ –º–æ–¥—É–ª–∏ –∏ —Ñ–∞–π–ª—ã
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è build —Å–∏—Å—Ç–µ–º—ã

–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–º–ø–∏–ª—è—Ü–∏—é packages/core
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π API
3. –°–æ–±—Ä–∞—Ç—å WASM
4. –°–æ–∑–¥–∞—Ç—å PWA
```

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ö–æ–º–ø–∏–ª—è—Ü–∏—è
cargo check --workspace
cargo build --workspace --release

# –¢–µ—Å—Ç—ã
cargo test --workspace
cargo test --workspace --test '*'

# WASM —Å–±–æ—Ä–∫–∞
cd packages/core
wasm-pack build --target web --release

# –ó–∞–ø—É—Å–∫ PWA –≤ dev —Ä–µ–∂–∏–º–µ
pnpm dev

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
cargo fmt --all
pnpm format

# –õ–∏–Ω—Ç–∏–Ω–≥
cargo clippy --workspace --all-targets
pnpm lint
```

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∫–æ–¥ –∏–∑ `construct-crypto` –ø–µ—Ä–µ–Ω–µ—Å—ë–Ω –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –∞–¥–∞–ø—Ç–∞—Ü–∏–∏
- –°–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ–¥ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `/Users/maximeliseyev/Code/construct-server`
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏–∑ `docs/` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- –°–ª–µ–¥—É–π—Ç–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∏–∑ `docs/RUST+TS.md`

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-12-17
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-12-17
**–ê–≤—Ç–æ—Ä:** Claude Code Assistant
