[target.wasm32-unknown-unknown]
runner = 'wasm-bindgen-test-runner'

[build]
# Ускоряем инкрементальные сборки
incremental = true

# Оптимизация для WASM
[target.wasm32-unknown-unknown.dev-dependencies]

[profile.dev.package."*"]
opt-level = 2  # Оптимизация зависимостей в dev режиме

[profile.release]
# LTO для уменьшения размера
lto = true
# Оптимизация размера
opt-level = "s"
# Один codegen unit для лучшей оптимизации
codegen-units = 1
# Отключаем панику для WASM
panic = "abort"

[alias]
# Алиасы для удобства
wasm-build = "build --target wasm32-unknown-unknown --release"
wasm-test = "test --target wasm32-unknown-unknown"
